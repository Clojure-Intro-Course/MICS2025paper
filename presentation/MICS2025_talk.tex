\documentclass{beamer}
\usepackage{beamerthemeshadow}
\usepackage{color}
\usepackage[all]{xy}

%% Elena's favorite green (thanks, Fernando!)
\definecolor{ForestGreen}{RGB}{34,139,34}
\definecolor{BlueViolet}{RGB}{138,43,226}
\definecolor{Coquelicot}{RGB}{255, 56, 0}
\definecolor{Teal}{RGB}{2,132,130}
%Uncomment this if you want to show work-in-progress comments
\newcommand{\comment}[1]{{\bf \tt  {#1}}}
% Uncomment this if you don't want to show comments
%\newcommand{\comment}[1]{}
% for color names see https://www.overleaf.com/learn/latex/Using_colors_in_LaTeX
\newcommand{\emcomment}[1]{\textcolor{ForestGreen}{\comment{Elena: {#1}}}}
\newcommand{\todo}[1]{\textcolor{blue}{\comment{To Do: {#1}}}}
\newcommand{\tkcomment}[1]{\textcolor{Teal}{\comment{Tristan: {#1}}}}
\newcommand{\jscomment}[1]{\textcolor{olive}{\comment{Jaydon: {#1}}}}
\newcommand{\jwcomment}[1]{\textcolor{violet}{\comment{John: {#1}}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%% choose your presentation style:
\mode<presentation>
{
  \usetheme{Copenhagen} %%%
 \usecolortheme{beaver}

%%% set style for ovelays: lists (and other text) appearing one item at a time
%%% This will create a dimmed preview of next item:
\setbeamercovered{transparent}
%%% This will hide it entirely:
%\setbeamercovered{invisible}
}
%% if you don't want page numbers to show: 
\setbeamertemplate{footline}[page number]{}

%%%% 25 minutes time slot, including questions 

\begin{document}
\title{A beginner-friendly environment for exploring error messages in the Clojure programming language.}
\author{Tristan Kalvoda, Elena Machkasova, Jaydon Stanislowski, and John Walbran}
\institute[UMN Morris] % (optional, but mostly needed)
{
 % \inst{1}%
  University of Minnesota, Morris
}
\date[]  
{Midwest Instruction and Computing Symposium, April 2025}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}

  \frametitle{Outline}
\tableofcontents
\end{frame}

\section{Overview of Clojure and Its Error Messages}

\subsection{Clojure language and Syntax}
\begin{frame}
\frametitle{Clojure Language and Syntax}
What is Clojure? - Clojure language and Syntax
\begin{itemize}
  \item Clojure is a part of the Lisp language family
  \item Syntax
  \begin{itemize}
    \item prefix notation (operators before operands).
    \item expressions are surrounded by parentheses.
  \end{itemize}
\end{itemize}
Example: \texttt{(/ 9 3)} denotes 9 divided by 3
\end{frame}

\begin{frame}
  \frametitle{Clojure Language and Syntax}
  \begin{itemize}
    \item Clojure \emcomment{is implemented in Java and} runs on the Java Virtual Machine (JVM)
    \begin{itemize}
      \item executed code compiles to JVM bytecode \emcomment{I corrected the line below slightly. Not sure if you need this line.}
    \end{itemize}
    \item Clojure code \(\rightarrow\) Java code \(\rightarrow\) JVM bytecode \(\rightarrow\) \\ executed on JVM
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Clojure Language and Syntax}
  Clojure's REPL
  \begin{itemize}
    \item interactive environment for code evaluation
    \item Read \(\rightarrow\) Evaluate \(\rightarrow\) Print \(\rightarrow\) Loop
    \tkcomment{repl example image}
  \end{itemize}  
\end{frame}

\subsection{Clojure's Error Messages}
\begin{frame}
  \frametitle{Clojure's Error Messages}
  Clojure Exceptions
  \begin{itemize}
    \item an event or error that disrupts the normal flow of a program's execution
    \item Clojure syntax errors will also result in an exception \emcomment{mention that it is a Java exception}
  \end{itemize}
  Error Messages
  \begin{itemize}
    \item generate when a exception occurs
    \item provide error type and location
  \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Clojure's Error Messages}
    Anatomy of a Clojure Error Message \\
    \texttt{=> (/ 9 0)} \\
    \texttt{Execution error (ArithmeticException) at user/eval1 (REPL:1).} \\
    \texttt{Divide by zero}
    \begin{itemize}
      \item \texttt{ArithmeticException}: The type of error that occurred.
      \item \texttt{user/eval1 (REPL:1)}: The location where the error happened (in this case, REPL, line 1).
      \item \texttt{Divide by zero}: The description of the error's cause.
    \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Clojure's Error Messages}
  \textbf{Exception Example} \\
  \texttt{\#error \{ } \\
  \texttt{:cause "Divide by zero"} \\
  \texttt{:via} \\
  \texttt{[{:type java.lang.ArithmeticException} } \\
  \texttt{:message "Divide by zero"} \\
  \texttt{:at [clojure.lang.Numbers divide "Numbers.java" 190]\}]} \\
  \texttt{:trace} \\
  \texttt{[[clojure.lang.Numbers divide "Numbers.java" 190]} \\
  \texttt{... omitting 18 lines...} \\
  \texttt{[clojure.main main "main.java" 40]]}
  \tkcomment{image instead? or maybe not add this}
\emcomment{I don't think you need this slide}
\end{frame}

\section{Babel project}

\subsection{Setup and Goals}

\begin{frame}
\frametitle{Jaydon's section}

\end{frame}

\subsection{Exceptions Processing}

\begin{frame}
\frametitle{Jaydon's section}

\end{frame}

\section{Morse Viewers}

\begin{frame}{Sending Data to Morse}
  \begin{itemize}
    \item<1-> The Clojure REPL does not provide the proper hooks to effectively manipulate error message data.
    \item<2-> To get around this, we need to initialize Babel within a sub-REPL of the parent REPL session.
    \item<3-> Creating a sub-REPL allows us to introduce hooks that let us add preprocessing steps.
  \end{itemize}
\end{frame}

\begin{frame}{Sub-REPL hooks}
  Babel uses the following hooks as part of error processing:
  \begin{itemize}
    \item<1-> \texttt{:init} Defines initial behavior on creation. In Babel this starts a new Morse session connected to the current REPL.
    \item<2-> \texttt{:eval} Defines behavior when a command is run. In Babel this stores the command verbatim into an atom, and evaluates the command in both the REPL and Morse.
    \item<3-> \texttt{:caught} Defines behavior on an exception. In Babel this processes the error, and passes the following information to Morse for display in a custom viewer:
      \begin{itemize}
        \item The last command entered, read from an atom that is updated at evaluation.
        \item The location in the environment where the error occurred. In the REPL, this
        resolves to “Clojure Interactive Session”.
        \item A vector of pairs containing the error message produced by Babel, with labels associated with each segment denoting its type for formatting.
        \item The url to the documentation of the function called that caused the error.
      \end{itemize}
  \end{itemize}
\end{frame}

\section{Current State of the Project and Future Work}
\begin{frame}{Current State of the Project}
\emcomment{Mention older things that we have accomplished}
  \begin{itemize}
    \item<1-> Most of the work this year was spent structuring things for integration with Morse viewers.
    \item<2-> The introduction of the error labeling \emcomment{with labels like ....} and prototyping this was pivotal in enabling data formatting.
    \item<3-> We currently have a small number of error messages labeled for demonstration purposes.
  \end{itemize}
\end{frame}

\begin{frame}{Future Work}
  The following are areas of active development:
  \begin{itemize}
    \item<1-> Expand data labeling to all Babel error messages.
    \item<2-> Add hover text for specific terms to add definitions and supplementary information to the presented error message.
    \item<3-> Refining the end user work flow between working code and erroring code.
  \end{itemize}
\emcomment{Mention developing Morse viewers for specific labels and other info, such as stack trace and full Java error messages.}
  \end{frame}

\begin{frame}{Future Work (cont.)}
\emcomment{simplify the sentences}
  \begin{itemize}
    \item<1-> Once we have greater feature coverage in Babel, we plan to run a usability study about the interactive tools we have developed.
    \item<2-> We are going to use the results of letting users explore our tools while learning Clojure in order to guide further design. 
    \item<3-> We would like to explore IDE integration to further expand possible work-flow refinements.
  \end{itemize}
\end{frame}

\begin{frame}{Acknowledgements}
This work was supported in part by Morris Academic Partnership (MAP) and UMN Undergraduate Research Opportunity (UROP).  \\ 

\vspace*{0.2in}

We thank Joe Lane for introducing us to Morse tools and for numerous helpful discussions.
\end{frame}

\begin{frame}
  \frametitle{Discussion}
Questions?
\end{frame}

\end{document}
